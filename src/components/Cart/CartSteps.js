import React from "react";
import CartStepCard from "./CartStepCard";
import CartItemsContainer from "./CartItemsContainer";
import CartAddressComponent from "./CartAddressComponent";
import CartAccessories from "./CartAccessories";
import CartPaymentGateway from "./CartPaymentGateway";
import useAppStore from "@/Store/Store";

const CartSteps = ({ step, setStep }) => {
  const { user_data, openLoginModal } = useAppStore();
  const stepsList = [
    {
      title: "Your Cart",
      icon: (
        <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M0.701297 0.5C0.313981 0.5 0 0.80526 0 1.18182C0 1.55838 0.313981 1.86364 0.701297 1.86364H2.24869L4.19742 9.98335C4.48749 11.192 5.57872 12.0544 6.84796 12.0898V12.0909H12.334C13.7007 12.0909 14.8685 11.1333 15.099 9.82365L15.9795 4.82092C16.1261 3.98798 15.4662 3.22727 14.597 3.22727H4.01623L3.48814 1.02689C3.41408 0.718305 3.13111 0.5 2.80519 0.5H0.701297ZM4.3435 4.59091L5.56332 9.67349C5.71144 10.2907 6.27738 10.7273 6.92923 10.7273H12.334C13.0173 10.7273 13.6012 10.2485 13.7165 9.59364L14.597 4.59091H4.3435Z"
            fill="#2D2D2D"
          />
          <path
            d="M5.61038 15.5C6.38501 15.5 7.01297 14.8895 7.01297 14.1364C7.01297 13.3832 6.38501 12.7727 5.61038 12.7727C4.83575 12.7727 4.20778 13.3832 4.20778 14.1364C4.20778 14.8895 4.83575 15.5 5.61038 15.5Z"
            fill="#2D2D2D"
          />
          <path
            d="M13.3246 15.5C14.0993 15.5 14.7272 14.8895 14.7272 14.1364C14.7272 13.3832 14.0993 12.7727 13.3246 12.7727C12.55 12.7727 11.9221 13.3832 11.9221 14.1364C11.9221 14.8895 12.55 15.5 13.3246 15.5Z"
            fill="#2D2D2D"
          />
        </svg>
      ),
      comp: <CartItemsContainer />,
      step: 1,
    },
    {
      title: "Accessories",
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" fill="none">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M9.77746 0.417422C10.3013 0.143956 10.8953 0 11.5 0C12.1047 0 12.6987 0.143968 13.2226 0.417456L13.225 0.41871L21.275 4.58576C21.7005 4.80833 22.0675 5.11004 22.3526 5.46973C22.4219 5.53258 22.4834 5.60457 22.5349 5.68512C22.5792 5.75449 22.6137 5.82656 22.6387 5.90001C22.8754 6.33082 22.9995 6.80619 23 7.28915V15.6254C22.9994 16.1735 22.8397 16.7117 22.5369 17.1862C22.2341 17.6607 21.7989 18.0548 21.275 18.3288L21.2706 18.3311L13.225 22.4958L13.2229 22.4969C12.8581 22.6874 12.4593 22.8151 12.0465 22.8751C11.8839 22.9548 11.6978 23 11.5 23C11.3022 23 11.1161 22.9548 10.9535 22.8751C10.5408 22.8151 10.1419 22.6874 9.77713 22.497L9.775 22.4958L1.72944 18.3311L1.725 18.3288C1.20105 18.0548 0.765866 17.6607 0.463096 17.1862C0.160326 16.7117 0.000620541 16.1735 0 15.6254V7.28915C0.000546556 6.80643 0.124505 6.3313 0.36093 5.90066C0.386004 5.82699 0.420558 5.7547 0.464984 5.68512C0.516546 5.60438 0.578239 5.53225 0.647767 5.4693C0.932769 5.1098 1.29963 4.80824 1.725 4.58577L1.72943 4.58345L9.77746 0.417422ZM12.65 20.3938L20.125 16.5244L20.1268 16.5234C20.3007 16.4321 20.4451 16.3012 20.5456 16.1435C20.6466 15.9854 20.6998 15.806 20.7 15.6233V7.85015L12.65 12.0685V20.3938ZM10.35 12.0686V20.3938L2.875 16.5244L2.87319 16.5234C2.69935 16.4321 2.55494 16.3012 2.45436 16.1435C2.35352 15.9855 2.30029 15.8062 2.3 15.6237V7.85022L10.35 12.0686ZM12.075 2.22311L19.5051 6.06928L11.4999 10.2642L3.49482 6.06931L10.9206 2.22542L10.925 2.2231C11.0998 2.13167 11.2981 2.08353 11.5 2.08353C11.7019 2.08353 11.9002 2.13167 12.075 2.22311Z"
            fill="#DBDBDB"
          />
        </svg>
      ),
      comp: <CartAccessories />,
      step: 2,
    },
    {
      title: "Delivery Address",
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" fill="none">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M16.9246 7.39791C17.0498 7.02224 16.952 6.60807 16.672 6.32806C16.392 6.04806 15.9778 5.95028 15.6022 6.07551L8.95307 8.29187C8.64089 8.39593 8.39593 8.64089 8.29187 8.95307L6.07551 15.6022C5.95028 15.9778 6.04806 16.392 6.32806 16.672C6.60807 16.952 7.02224 17.0498 7.39791 16.9246L14.047 14.7082C14.3592 14.6041 14.6041 14.3592 14.7082 14.047L16.9246 7.39791ZM8.72032 14.2798L10.1102 10.1102L14.2798 8.72032L12.8899 12.8899L8.72032 14.2798Z"
            fill="#DBDBDB"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M11.5 0C5.14873 0 0 5.14873 0 11.5C0 17.8513 5.14873 23 11.5 23C17.8513 23 23 17.8513 23 11.5C23 5.14873 17.8513 0 11.5 0ZM2.09091 11.5C2.09091 6.3035 6.3035 2.09091 11.5 2.09091C16.6965 2.09091 20.9091 6.3035 20.9091 11.5C20.9091 16.6965 16.6965 20.9091 11.5 20.9091C6.3035 20.9091 2.09091 16.6965 2.09091 11.5Z"
            fill="#DBDBDB"
          />
        </svg>
      ),
      comp: <CartAddressComponent />,
      step: 3,
    },
    {
      title: "Payment",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 23 18"
          height={"100%"}
          width={"100%"}
          fill="none"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M0 3C0 1.34315 1.28718 0 2.875 0H20.125C21.7128 0 23 1.34315 23 3V15C23 16.6569 21.7128 18 20.125 18H2.875C1.28718 18 0 16.6569 0 15V3ZM1.91667 3C1.91667 2.44772 2.34573 2 2.875 2H20.125C20.6543 2 21.0833 2.44772 21.0833 3V6H1.91667V3ZM21.0833 8V15C21.0833 15.5523 20.6543 16 20.125 16H2.875C2.34573 16 1.91667 15.5523 1.91667 15V8H21.0833Z"
            fill="#DBDBDB"
          />
        </svg>
      ),
      comp: <CartPaymentGateway />,
      step: 4,
    },
  ];

  return (
    <div>
      {stepsList?.map((card) => (
        <div
          key={card.step}
          className="cursor-pointer"
          onClick={() => {
            if (user_data?.first_name) {
              setStep(card.step);
            } else {
              openLoginModal();
            }
          }}
        >
          <CartStepCard
            key={card?.step}
            step={step}
            setStep={setStep}
            icon={card?.icon}
            title={card?.title}
            cardStep={card?.step}
          >
            {card?.comp}
          </CartStepCard>
        </div>
      ))}
    </div>
  );
};

export default CartSteps;
